<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Toast Engine: event::Event&lt; EventType &gt; Struct Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript" src="../../darkmode_toggle.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Toast Engine
   </div>
   <div id="projectbrief">nullptr* Studios game engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d7/d51/structevent_1_1Event.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../d2/de4/structevent_1_1Event-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">event::Event&lt; EventType &gt; Struct Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Base class for all the Events.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../df/d7d/Event_8hpp_source.html">Event.hpp</a>&gt;</code></p>

<p>Inherits <a class="el" href="../../da/ddb/structevent_1_1IEvent.html">event::IEvent</a>.</p>
<div class="dynheader">
Collaboration diagram for event::Event&lt; EventType &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d54/structevent_1_1Event__coll__graph.png" border="0" usemap="#aevent_1_1Event_3_01EventType_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="aevent_1_1Event_3_01EventType_01_4_coll__map" id="aevent_1_1Event_3_01EventType_01_4_coll__map">
<area shape="rect" title="Base class for all the Events." alt="" coords="5,156,181,234"/>
<area shape="rect" href="../../da/ddb/structevent_1_1IEvent.html" title="Core components of the event struct." alt="" coords="46,5,140,108"/>
<area shape="poly" title=" " alt="" coords="96,123,96,156,90,156,90,123"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a9ae6771ba6527187f0d3c201657f9874" id="r_a9ae6771ba6527187f0d3c201657f9874"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dd0/namespaceevent.html#a686cf4d350129664ad651c7073b1eeff">EventMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ae6771ba6527187f0d3c201657f9874">subscribers</a></td></tr>
<tr class="memdesc:a9ae6771ba6527187f0d3c201657f9874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds all the listeners that are subscribed to the events.  <br /></td></tr>
<tr class="separator:a9ae6771ba6527187f0d3c201657f9874"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac9aeee991c0f5ca1ae5d534417f65aa0" id="r_ac9aeee991c0f5ca1ae5d534417f65aa0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9aeee991c0f5ca1ae5d534417f65aa0">Notify</a> () override</td></tr>
<tr class="separator:ac9aeee991c0f5ca1ae5d534417f65aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a9daac1e9f186a9341e2a138d426f9867" id="r_a9daac1e9f186a9341e2a138d426f9867"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9daac1e9f186a9341e2a138d426f9867">EventSystem</a></td></tr>
<tr class="separator:a9daac1e9f186a9341e2a138d426f9867"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_methods_structevent_1_1IEvent"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_structevent_1_1IEvent')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../da/ddb/structevent_1_1IEvent.html">event::IEvent</a></td></tr>
<tr class="memitem:a10c3f7557fefdbce6062d8052b02eebc inherit pub_methods_structevent_1_1IEvent" id="r_a10c3f7557fefdbce6062d8052b02eebc"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddb/structevent_1_1IEvent.html#a10c3f7557fefdbce6062d8052b02eebc">~IEvent</a> ()=default</td></tr>
<tr class="separator:a10c3f7557fefdbce6062d8052b02eebc inherit pub_methods_structevent_1_1IEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename EventType&gt;<br />
struct event::Event&lt; EventType &gt;</div><p>Base class for all the Events. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">EventType</td><td>Template for the CRTP (more info below)</td></tr>
  </table>
  </dd>
</dl>
<p>This struct contains all the information an event will have. The event also contains, by default, two members: a <code>subscribers</code> map and the <code><a class="el" href="#ac9aeee991c0f5ca1ae5d534417f65aa0">Notify()</a></code> function. The <code>subscribers</code> map simply holds all the listeners that are subscribed to this event at any given time, and the <code><a class="el" href="#ac9aeee991c0f5ca1ae5d534417f65aa0">Notify()</a></code> dispatches the event when called.</p>
<p>To use the <a class="el" href="../../d7/d51/structevent_1_1Event.html" title="Base class for all the Events.">Event</a> system, you need to create your own event inheriting from this one. Since the <code>subscribers</code> list is static, we need to use a workarround called the "Curiously Recurring Template Pattern" (CRTP), you can search for more information about this on <code>cppreference.com</code>. What this means for us is that when we create an event, the base event class template needs to be the class we are creating (this is more clear on the example below). At first, it's a bit contradicting doing it that way, but this ensures the subscribers list is unique on all our events unless we specifically want it not to be (by setting the template to the same as other function). An example of how to create our own event:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>KeyPressedEvent : <a class="code hl_struct" href="../../d7/d51/structevent_1_1Event.html">Event</a>&lt;KeyPressedEvent&gt; {</div>
<div class="line"> <span class="comment">// We write here whatever data we want on our event</span></div>
<div class="line"> <span class="keywordtype">int</span> keyCode;</div>
<div class="line"> <span class="keywordtype">int</span> repeatTimes;</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// While not necessary, I recomend creating a constructor so we cannot create an event without information</span></div>
<div class="line"> KeyPressedEvent(<span class="keywordtype">int</span> keyCode, <span class="keywordtype">int</span> repeatTimes) {</div>
<div class="line">   this-&gt;keyCode = keyCode;</div>
<div class="line">   this-&gt;repeatTimes = repeatTimes;</div>
<div class="line"> }</div>
<div class="line">}</div>
<div class="ttc" id="astructevent_1_1Event_html"><div class="ttname"><a href="../../d7/d51/structevent_1_1Event.html">event::Event</a></div><div class="ttdoc">Base class for all the Events.</div><div class="ttdef"><b>Definition</b> <a href="../../df/d7d/Event_8hpp_source.html#l00030">Event.hpp:30</a></div></div>
</div><!-- fragment --><p>While more information about how to use listeners and how to send events will be provided in their respective documentations here is a general explanation of how to use the system:</p>
<p>On the <code><a class="el" href="../../d2/dd2/classevent_1_1Listener.html" title="Object that gets notified from events.">Listener</a></code> we want to receive the event, we subscribe to this event by using the subscribe method. This is as simple as writing </p><div class="fragment"><div class="line">m_listener.Subscribe&lt;KeyPressedEvent&gt;(<span class="stringliteral">&quot;OpenPauseMenu&quot;</span>, [&amp;](KeyPressedEvent* e)-&gt;bool { <span class="keywordflow">return</span> OpenPauseMenuFn(e); });</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Note that OpenPauseMenuFn NEEDS to have this shape</span></div>
<div class="line"><span class="keywordtype">bool</span> OpenPauseMenuFn(KeyPressedEvent* e) {</div>
<div class="line">  <span class="comment">// We can very easily access the event data like this</span></div>
<div class="line">  <span class="keywordflow">if</span> (e-&gt;keyCode == 10) {</div>
<div class="line">    m_menuUI.Show(<span class="keyword">true</span>);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Then, we will just need to send an event by using the static method <code><a class="el" href="../../dc/dd0/namespaceevent.html#a923c12a601db6e4cc6b7bb74e6470b76">event::Send()</a></code> like this </p><div class="fragment"><div class="line"><a class="code hl_function" href="../../dc/dd0/namespaceevent.html#a923c12a601db6e4cc6b7bb74e6470b76">event::Send</a>(<span class="keyword">new</span> KeyPressedEvent(10, 0));</div>
<div class="ttc" id="anamespaceevent_html_a923c12a601db6e4cc6b7bb74e6470b76"><div class="ttname"><a href="../../dc/dd0/namespaceevent.html#a923c12a601db6e4cc6b7bb74e6470b76">event::Send</a></div><div class="ttdeci">void Send(IEvent *event)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d48/EventSystem_8cpp_source.html#l00032">EventSystem.cpp:32</a></div></div>
</div><!-- fragment --><p>Doing that will call the OpenPauseMenuFn function we binded and will pass the event as a parameter</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d2/dd2/classevent_1_1Listener.html" title="Object that gets notified from events.">event::Listener</a> </dd>
<dd>
<a class="el" href="../../dd/d6f/classevent_1_1EventSystem.html" title="Dispatches the events and controls the Event System.">event::EventSystem</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/d7d/Event_8hpp_source.html#l00030">30</a> of file <a class="el" href="../../df/d7d/Event_8hpp_source.html">Event.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac9aeee991c0f5ca1ae5d534417f65aa0" name="ac9aeee991c0f5ca1ae5d534417f65aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9aeee991c0f5ca1ae5d534417f65aa0">&#9670;&#160;</a></span>Notify()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename EventType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d7/d51/structevent_1_1Event.html">event::Event</a>&lt; EventType &gt;::Notify </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel protected">protected</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../da/ddb/structevent_1_1IEvent.html#a1166375ac94c2ea879c2a7a3a49a21bd">event::IEvent</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../df/d7d/Event_8hpp_source.html#l00044">44</a> of file <a class="el" href="../../df/d7d/Event_8hpp_source.html">Event.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="a9daac1e9f186a9341e2a138d426f9867" name="a9daac1e9f186a9341e2a138d426f9867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9daac1e9f186a9341e2a138d426f9867">&#9670;&#160;</a></span>EventSystem</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename EventType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../dd/d6f/classevent_1_1EventSystem.html">EventSystem</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel friend">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d7d/Event_8hpp_source.html#l00031">31</a> of file <a class="el" href="../../df/d7d/Event_8hpp_source.html">Event.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9ae6771ba6527187f0d3c201657f9874" name="a9ae6771ba6527187f0d3c201657f9874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ae6771ba6527187f0d3c201657f9874">&#9670;&#160;</a></span>subscribers</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename EventType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/dd0/namespaceevent.html#a686cf4d350129664ad651c7073b1eeff">EventMap</a> <a class="el" href="../../d7/d51/structevent_1_1Event.html">event::Event</a>&lt; EventType &gt;::subscribers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds all the listeners that are subscribed to the events. </p>

<p class="definition">Definition at line <a class="el" href="../../df/d7d/Event_8hpp_source.html#l00034">34</a> of file <a class="el" href="../../df/d7d/Event_8hpp_source.html">Event.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/Core/Event/<a class="el" href="../../df/d7d/Event_8hpp_source.html">Event.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/dd0/namespaceevent.html">event</a></li><li class="navelem"><a class="el" href="../../d7/d51/structevent_1_1Event.html">Event</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
